import{r as o,j as e}from"./index-jaiLpPUp.js";const b=["./projects/2021.jpg","./projects/irrigation.jpg","./projects/28black.png","./projects/ilo.jpg","./projects/28black2.png","./projects/defense.png"];function j({images:n=b,height:d="h-[40vh]",durationMs:f=12e3}){const i=o.useRef(null),h=o.useRef(`marquee-${Math.random().toString(36).slice(2,9)}`),m=[...n,...n],[r,a]=o.useState(null),c=h.current,p=`
            @keyframes ${c} { from { transform: translateX(0%); } to { transform: translateX(-50%); } }
            @keyframes sheen { from { transform: translateX(-120%); } to { transform: translateX(120%); } }
            .tile-sheen { position: absolute; left: -120%; top: 0; height: 100%; width: 40%; background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.12) 50%, rgba(255,255,255,0) 100%); transform: skewX(-20deg); }
            .tile-sheen.animate { animation: sheen 1.6s linear infinite; }
        `;return o.useEffect(()=>{const t=new ResizeObserver(()=>{});return i.current&&t.observe(i.current),()=>t.disconnect()},[n]),o.useEffect(()=>{const t=l=>{l.key==="Escape"&&a(null),r!==null&&(l.key==="ArrowRight"&&a(s=>s===null?null:(s+1)%n.length),l.key==="ArrowLeft"&&a(s=>s===null?null:(s-1+n.length)%n.length))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[r,n.length]),e.jsxs("section",{className:`relative w-full overflow-hidden ${d} select-none`,children:[e.jsx("style",{children:p}),e.jsx("div",{className:"absolute left-0 top-0 w-full h-full",children:e.jsx("div",{ref:i,className:"flex items-stretch h-full",style:{width:"200%",display:"flex",transform:"translate3d(0,0,0)",animationName:c,animationDuration:`${f}ms`,animationTimingFunction:"linear",animationIterationCount:"infinite",animationPlayState:"running"},children:m.map((t,l)=>{var u;const s=((u=t.split("/").pop())==null?void 0:u.split(".")[0])||`img-${l}`;return e.jsxs("div",{className:"flex-shrink-0 h-full group relative overflow-hidden cursor-pointer flex items-center justify-center",style:{minWidth:"50vw","--tilt":`${(l%5-2)*1.2}deg`},onClick:()=>a(l%n.length),role:"button",tabIndex:0,onKeyDown:x=>{x.key==="Enter"&&a(l%n.length)},children:[e.jsx("img",{src:t,alt:`work-${l}`,className:"max-h-full max-w-full object-contain transform transition-transform duration-500 ease-out group-hover:scale-105 group-hover:brightness-110",style:{display:"block"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:`tile-sheen ${l%2===0?"animate":""}`,style:{animationDelay:`${l%5*120}ms`}}),e.jsxs("div",{className:"absolute left-4 bottom-4 text-white pointer-events-none",children:[e.jsx("div",{className:"text-sm font-semibold drop-shadow",children:s}),e.jsx("div",{className:"text-xs text-white/80",children:"Integration • Case study"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-0 rounded transition-shadow duration-300 group-hover:shadow-2xl",style:{transform:"perspective(800px) rotateY(var(--tilt))"}})]},`${t}-${l}`)})})}),r!==null&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:()=>a(null),children:e.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh] w-full h-full flex items-center justify-center",onClick:t=>t.stopPropagation(),children:[e.jsx("img",{src:n[r],alt:`open-${r}`,className:"max-w-full max-h-full object-contain rounded shadow-2xl"}),e.jsx("button",{"aria-label":"Close",className:"absolute top-6 right-6 text-white bg-black/40 rounded-full p-2",onClick:()=>a(null),children:"✕"}),e.jsx("button",{"aria-label":"Previous",className:"absolute left-6 top-1/2 -translate-y-1/2 text-white bg-black/30 rounded-full p-2",onClick:()=>a(t=>t===null?null:(t-1+n.length)%n.length),children:"‹"}),e.jsx("button",{"aria-label":"Next",className:"absolute right-6 top-1/2 -translate-y-1/2 text-white bg-black/30 rounded-full p-2",onClick:()=>a(t=>t===null?null:(t+1)%n.length),children:"›"})]})})]})}export{j as default};
