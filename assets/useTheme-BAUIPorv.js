import{r as o}from"./index-DSo8dr3Y.js";const c=()=>{const[a,s]=o.useState("light");return o.useEffect(()=>{const t=localStorage.getItem("theme")||"light";s(t),t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]),o.useEffect(()=>{const e=t=>{const n=t.detail;n&&(s(n),n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))};return window.addEventListener("theme-change",e),()=>window.removeEventListener("theme-change",e)},[]),o.useEffect(()=>{const e=t=>{if(t.key==="__theme_update__"){const n=localStorage.getItem("theme");n&&(s(n),n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),{theme:a,toggleTheme:()=>{const e=a==="light"?"dark":"light";s(e),localStorage.setItem("theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");try{window.dispatchEvent(new CustomEvent("theme-change",{detail:e})),localStorage.setItem("__theme_update__",String(Date.now()))}catch{}}}};export{c as u};
